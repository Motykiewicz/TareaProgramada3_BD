<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mis propiedades - Tarea 3 BD</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body class="dashboard-page">
  <div class="dashboard-inner">

    <!-- Header estilo admin -->
    <header class="dashboard-header">
      <div class="dashboard-title">
        <h1>Portal de cliente</h1>
        <p>Sistema de facturación municipal</p>
        <p id="cliente-username" class="user-chip"></p>
        <p id="cliente-impersonation" class="impersonation-label" style="display:none"></p>
      </div>

      <div class="top-actions">
        <button id="btnClienteHeader" class="btn-outline"></button>
      </div>
    </header>

    <main class="dashboard-main">

      <!-- Resumen -->
      <section class="dashboard-card">
        <div class="card-shell">
          <div class="card-shell-left gradient-card">
            <h2>Resumen de la cuenta</h2>
            <p>Resumen general del cliente: propiedades asociadas y deuda total.</p>
          </div>

          <div class="card-shell-right">
            <h3>Estado actual</h3>

            <div class="client-summary-grid">

              <div class="client-summary-card">
                <div class="client-summary-label">Propiedades asociadas</div>
                <div class="client-summary-value" id="resumen-total-propiedades">—</div>
              </div>

              <div class="client-summary-card">
                <div class="client-summary-label">Deuda total pendiente</div>
                <div class="client-summary-value" id="resumen-deuda-total">—</div>
              </div>

            </div>
          </div>
        </div>
      </section>

      <!-- Propiedades -->
      <section class="dashboard-card">
        <div class="card-shell">
          <div class="card-shell-left gradient-card">
            <h2>Mis propiedades</h2>
            <p>Listado de todas las fincas asociadas al usuario.</p>
          </div>

          <div class="card-shell-right table-wrapper">
            <table class="properties-table">
              <thead>
                <tr>
                  <th>Finca</th>
                  <th>Zona</th>
                  <th>Uso</th>
                  <th>Fecha registro</th>
                  <th>Deuda total</th>
                </tr>
              </thead>
              <tbody id="tbody-propiedades">
                <tr><td colspan="5">Cargando propiedades...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Facturas pendientes -->
      <section class="dashboard-card">
        <div class="card-shell">
          <div class="card-shell-left gradient-card">
            <h2>Facturas pendientes</h2>
            <p>Facturas activas que el cliente puede pagar.</p>
          </div>

          <div class="card-shell-right table-wrapper">
            <table class="properties-table">
              <thead>
                <tr>
                  <th>N° factura</th>
                  <th>Periodo</th>
                  <th>Servicio</th>
                  <th>Monto</th>
                  <th>Vence</th>
                  <th>Estado</th>
                  <th>Acción</th>
                </tr>
              </thead>
              <tbody id="tbody-facturas-pendientes">
                <tr><td colspan="7">Cargando facturas...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Historial de pagos -->
      <section class="dashboard-card">
        <div class="card-shell">
          <div class="card-shell-left gradient-card">
            <h2>Historial de pagos</h2>
            <p>Pagos realizados por el cliente (XML + web).</p>
          </div>

          <div class="card-shell-right table-wrapper">
            <table class="properties-table">
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>N° Factura</th>
                  <th>Detalle</th>
                  <th>Monto</th>
                  <th>Medio</th>
                </tr>
              </thead>
              <tbody id="tbody-historial-pagos">
                <tr><td colspan="5">Cargando pagos...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
